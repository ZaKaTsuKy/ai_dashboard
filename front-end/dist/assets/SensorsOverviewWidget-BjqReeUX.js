import{p as v,u as b,j as e,C as x,a as h,b as p,T as g,e as u}from"./index-CiW3by5p.js";function m(d,r=100){const t=Math.min(Math.max((d-30)/(r-30),0),1);if(t<.33){const s=t/.33,l=Math.round(34+200*s),c=Math.round(197+-18*s),i=Math.round(94+-86*s);return`rgb(${l}, ${c}, ${i})`}else if(t<.66){const s=(t-.33)/.33,l=Math.round(234+15*s),c=Math.round(179+-64*s),i=Math.round(8+14*s);return`rgb(${l}, ${c}, ${i})`}else{const s=(t-.66)/.34,l=Math.round(249+-10*s),c=Math.round(115+-47*s),i=Math.round(22+46*s);return`rgb(${l}, ${c}, ${i})`}}const n=({label:d,temp:r,critical:t=100,subtitle:s})=>{const l=m(r,t),c=r>60;return e.jsxs("div",{className:"relative p-3 rounded-lg transition-all duration-300 hover:scale-105 cursor-default",style:{backgroundColor:l},children:[e.jsx("div",{className:`font-semibold text-sm ${c?"text-white":"text-gray-900"}`,children:d}),e.jsxs("div",{className:`text-2xl font-bold ${c?"text-white":"text-gray-900"}`,children:[r.toFixed(0),"°C"]}),s&&e.jsx("div",{className:`text-xs ${c?"text-white/80":"text-gray-600"}`,children:s})]})},C=v.memo(()=>{const r=b(a=>a.liveData)?.full_sensors;if(!r)return e.jsxs(x,{className:"h-full",children:[e.jsx(h,{className:"pb-2",children:e.jsxs(p,{className:"flex items-center gap-2 text-sm",children:[e.jsx(g,{className:"w-4 h-4 text-orange-500"}),"Thermal Overview"]})}),e.jsx(u,{children:e.jsx("div",{className:"text-muted-foreground text-sm",children:"Waiting for sensor data..."})})]});const t=r.cpu_temps,s=r.gpu_sensors,l=r.nvme_sensors||[],c=r.temps_generic||[],i=t.tctl>0?t.tctl:t.package,j=t.tctl>0?"CPU Tctl":"CPU Package";return e.jsxs(x,{className:"h-full",children:[e.jsx(h,{className:"pb-2",children:e.jsxs(p,{className:"flex items-center gap-2 text-sm",children:[e.jsx(g,{className:"w-4 h-4 text-orange-500"}),"Thermal Overview"]})}),e.jsxs(u,{children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:[i>0&&e.jsx(n,{label:j,temp:i,critical:t.critical,subtitle:t.tdie>0?`Tdie: ${t.tdie.toFixed(0)}°C`:void 0}),t.tccd&&t.tccd.map((a,o)=>e.jsx(n,{label:`CCD ${o}`,temp:a,critical:t.critical},`ccd-${o}`)),t.cores&&t.cores.slice(0,4).map((a,o)=>e.jsx(n,{label:`Core ${o}`,temp:a,critical:t.critical},`core-${o}`)),s&&s.edge_temp>0&&e.jsx(n,{label:"GPU Edge",temp:s.edge_temp,critical:110,subtitle:s.hotspot_temp>0?`Hotspot: ${s.hotspot_temp.toFixed(0)}°C`:void 0}),s&&s.mem_temp>0&&e.jsx(n,{label:"GPU VRAM",temp:s.mem_temp,critical:110}),l.map((a,o)=>e.jsx(n,{label:a.name.toUpperCase(),temp:a.temp_composite,critical:70},`nvme-${o}-${a.name}`)),c.slice(0,4).map((a,o)=>e.jsx(n,{label:a.label,temp:a.value,critical:85},`generic-${o}-${a.chip}-${a.index}`))]}),e.jsxs("div",{className:"mt-4 flex items-center gap-4 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:m(30)}}),e.jsx("span",{children:"Cool"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:m(60)}}),e.jsx("span",{children:"Warm"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:m(85)}}),e.jsx("span",{children:"Hot"})]})]})]})]})});C.displayName="SensorsOverviewWidget";export{C as SensorsOverviewWidget};
