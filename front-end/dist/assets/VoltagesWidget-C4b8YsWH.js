import{p as u,u as h,j as e,C as n,a as c,b as o,Z as x,e as d}from"./index-CiW3by5p.js";function i(t,a){const l=a.toLowerCase();if(l.includes("vcore")||l.includes("cpu")){const s=t>=.7&&t<=1.5;return{color:s?"text-green-500":"text-red-500",stable:s}}if(l.includes("+12")||l.includes("12v")){const s=t>=11.4&&t<=12.6;return{color:s?"text-green-500":"text-yellow-500",stable:s}}if(l.includes("+5")||l.includes("5v")){const s=t>=4.75&&t<=5.25;return{color:s?"text-green-500":"text-yellow-500",stable:s}}if(l.includes("+3.3")||l.includes("3.3v")){const s=t>=3.1&&t<=3.5;return{color:s?"text-green-500":"text-yellow-500",stable:s}}return{color:"text-blue-500",stable:t>0&&t<15}}const b=({voltage:t})=>{const a=i(t.value,t.label);return e.jsxs("tr",{className:"border-b border-secondary/50 hover:bg-secondary/30 transition-colors",children:[e.jsx("td",{className:"py-2 px-3 text-sm font-medium",children:t.label}),e.jsxs("td",{className:`py-2 px-3 text-sm font-mono text-right ${a.color}`,children:[t.value.toFixed(3)," V"]}),e.jsx("td",{className:"py-2 px-3 text-xs text-muted-foreground text-center",children:a.stable?"●":"◐"})]})},j=u.memo(()=>{const a=h(s=>s.liveData)?.full_sensors;if(!a||!a.voltages||a.voltages.length===0)return e.jsxs(n,{className:"h-full",children:[e.jsx(c,{className:"pb-2",children:e.jsxs(o,{className:"flex items-center gap-2 text-sm",children:[e.jsx(x,{className:"w-4 h-4 text-yellow-500"}),"Power Rails"]})}),e.jsx(d,{children:e.jsx("div",{className:"text-muted-foreground text-sm",children:"No voltage sensors detected"})})]});const l=a.voltages,r=l.filter(s=>i(s.value,s.label).stable).length;return e.jsxs(n,{className:"h-full",children:[e.jsx(c,{className:"pb-2",children:e.jsxs(o,{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{className:"w-4 h-4 text-yellow-500"}),"Power Rails"]}),e.jsxs("span",{className:"text-xs text-muted-foreground font-normal",children:[r,"/",l.length," stable"]})]})}),e.jsx(d,{className:"p-0",children:e.jsx("div",{className:"max-h-64 overflow-y-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"sticky top-0 bg-card",children:e.jsxs("tr",{className:"text-xs text-muted-foreground border-b",children:[e.jsx("th",{className:"py-2 px-3 text-left font-medium",children:"Rail"}),e.jsx("th",{className:"py-2 px-3 text-right font-medium",children:"Value"}),e.jsx("th",{className:"py-2 px-3 text-center font-medium",children:"Status"})]})}),e.jsx("tbody",{children:l.map((s,m)=>e.jsx(b,{voltage:s},`voltage-${m}-${s.chip}-${s.index}`))})]})})})]})});j.displayName="VoltagesWidget";export{j as VoltagesWidget};
